<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>River CleanUp</title>
  <style>
    * {
      box-sizing: border-box;
    }
    
    body, html {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }

    nav {
      background: rgba(44, 62, 80, 0.95);
      backdrop-filter: blur(10px);
      padding: 15px 20px;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }

    .nav-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      height: 50px;
      border-radius: 25px;
      transition: transform 0.3s ease;
    }

    .logo:hover {
      transform: scale(1.1);
    }

    nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      align-items: center;
    }

    nav ul li {
      margin: 0 20px;
      position: relative;
    }

    nav ul li a {
      text-decoration: none;
      color: white;
      font-weight: 500;
      padding: 10px 15px;
      border-radius: 25px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    nav ul li a::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }

    nav ul li a:hover::before {
      left: 100%;
    }

    nav ul li a:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    .username-link {
      background: linear-gradient(45deg, #ff6b6b, #ee5a24) !important;
      border-radius: 25px !important;
      padding: 8px 15px !important;
      transition: all 0.3s ease !important;
      font-weight: bold !important;
    }

    .username-link:hover {
      background: linear-gradient(45deg, #ee5a24, #ff6b6b) !important;
      transform: translateY(-2px) !important;
      box-shadow: 0 8px 25px rgba(238, 90, 36, 0.4) !important;
    }

    .sidebar {
      position: fixed;
      top: 0;
      right: 0;
      height: 100vh;
      width: 300px;
      background: rgba(44, 62, 80, 0.95);
      backdrop-filter: blur(15px);
      box-shadow: -10px 0 30px rgba(0, 0, 0, 0.3);
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      z-index: 999;
      transform: translateX(100%);
      transition: transform 0.3s ease;
    }

    .sidebar.show {
      transform: translateX(0);
    }

    .sidebar li, .sidebar a {
      width: 100%;
      padding: 20px;
      color: white;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .menu-btn {
      display: none;
    }

    @media (max-width: 800px) {
      .hideonphone {
        display: none;
      }
      .menu-btn {
        display: block;
      }
    }

    @media (max-width: 400px) {
      .sidebar {
        width: 100%;
      }
    }

    .image-wrapper {
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      width: 100%;
      height: 100vh;
      margin-top: 0;
    }

    .image-wrapper::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(45deg, rgba(102, 126, 234, 0.8), rgba(118, 75, 162, 0.8));
      z-index: 1;
    }

    .image-wrapper video {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .text {
      position: absolute;
      color: white;
      font-size: 4rem;
      font-family: 'Arial Black', sans-serif;
      text-shadow: 3px 3px 10px rgba(0, 0, 0, 0.7);
      padding: 20px;
      text-align: center;
      z-index: 2;
      animation: fadeInUp 1s ease-out;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @media (max-width: 768px) {
      .text {
        font-size: 2.5rem;
      }
    }

    @media (max-width: 480px) {
      .text {
        font-size: 2rem;
      }
    }

    .river-cleanup {
      background: white;
      padding: 60px 40px;
      margin: 40px auto;
      max-width: 1000px;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
      position: relative;
      overflow: hidden;
    }

    .river-cleanup::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, #667eea, #764ba2, #667eea);
      background-size: 200% 100%;
      animation: gradient 3s linear infinite;
    }

    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
    }

    h1 {
      font-size: 3em;
      margin-bottom: 30px;
      color: #2d3748;
      background: linear-gradient(45deg, #667eea, #764ba2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-align: center;
    }

    h2 {
      font-size: 2.2em;
      margin-top: 40px;
      color: #2d3748;
      position: relative;
      padding-bottom: 10px;
    }

    h2::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 50px;
      height: 3px;
      background: linear-gradient(45deg, #667eea, #764ba2);
      border-radius: 2px;
    }

    p {
      font-size: 1.2em;
      line-height: 1.8;
      margin-bottom: 25px;
      color: #4a5568;
    }

    ul {
      list-style-type: none;
      padding-left: 0;
    }

    ul li {
      font-size: 1.3em;
      margin-bottom: 15px;
      padding: 15px;
      background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
      border-radius: 10px;
      border-left: 4px solid #667eea;
      transition: all 0.3s ease;
    }

    ul li:hover {
      transform: translateX(10px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
    }

    ul li strong {
      color: #2d3748;
      font-weight: 700;
    }

    a {
      color: #667eea;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    a:hover {
      color: #764ba2;
      text-decoration: underline;
    }

    .contact-us {
      margin: 80px 0 0;
      padding: 60px 40px;
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
    }

    .events-section {
      background: white;
      padding: 60px 40px;
      margin: 40px auto;
      max-width: 1200px;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
      position: relative;
      overflow: hidden;
    }

    .events-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, #ff6b6b, #ee5a24, #ff6b6b);
      background-size: 200% 100%;
      animation: gradient 3s linear infinite;
    }

    .events-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 30px;
      margin-top: 40px;
    }

    .event-card {
      background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      border: 1px solid #e2e8f0;
      transition: all 0.4s ease;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .event-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);
      transition: left 0.7s;
    }

    .event-card:hover::before {
      left: 100%;
    }

    .event-card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 25px 50px rgba(102, 126, 234, 0.2);
      border-color: #667eea;
    }

    .event-card::after {
      content: "üöÄ Click to participate";
      position: absolute;
      bottom: 15px;
      right: 20px;
      color: #667eea;
      font-size: 0.9em;
      font-weight: bold;
      opacity: 0.8;
      transition: all 0.3s ease;
    }

    .event-card:hover::after {
      opacity: 1;
      transform: scale(1.1);
    }

    .event-date {
      color: #667eea;
      font-weight: bold;
      font-size: 1.2em;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .event-address {
      font-size: 1.4em;
      font-weight: bold;
      margin-bottom: 12px;
      color: #2d3748;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .event-workers {
      color: #718096;
      font-size: 1.1em;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .event-creator {
      color: #667eea;
      font-size: 1em;
      font-style: italic;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      background: rgba(102, 126, 234, 0.1);
      border-radius: 8px;
    }

    .no-events {
      text-align: center;
      color: #718096;
      font-style: italic;
      padding: 60px 20px;
      font-size: 1.2em;
    }

    .contact-info,
    .contact-form {
      background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
      padding: 40px;
      margin-bottom: 30px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      border: 1px solid #e2e8f0;
    }

    .contact-form input,
    .contact-form textarea {
      width: 100%;
      padding: 15px;
      margin-bottom: 25px;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      font-size: 1.1em;
      transition: all 0.3s ease;
    }

    .contact-form input:focus,
    .contact-form textarea:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .contact-form button {
      background: linear-gradient(45deg, #667eea, #764ba2);
      color: white;
      padding: 15px 30px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-size: 1.1em;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .contact-form button:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
    }

    footer {
      text-align: center;
      padding: 30px 0;
      background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
      color: white;
      font-size: 1.1em;
    }

    /* Floating Animation */
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    .event-card:nth-child(odd) {
      animation: float 6s ease-in-out infinite;
    }

    .event-card:nth-child(even) {
      animation: float 6s ease-in-out infinite 3s;
    }
  </style>
</head>
<body>
  <nav>
    <div class="nav-container">
      <ul class="sidebar">
        <li onclick="hidesidebar()">
          <a href="#"><svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" fill="#e3e3e3"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></a>
        </li>
        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#events">Events</a></li>
        <li><a href="program">Program</a></li>
        <li><a href="#contact-us">Contact Us</a></li>
        <% if (user) { %>
          <li><a href="#" onclick="event.preventDefault(); logout();" class="username-link">üë§ <%= user.name %></a></li>
        <% } else { %>
          <li><a href="/login">Login</a></li>
        <% } %>
      </ul>
      <a href="/en" class="logo-link">
        <img src="https://www.river-cleanup.org/images/logo.png" alt="River CleanUp Logo" class="logo">
      </a>
      <ul>
        <li class="hideonphone"><a href="#home">Home</a></li>
        <li class="hideonphone"><a href="#about">About</a></li>
        <li class="hideonphone"><a href="#events">Events</a></li>
        <li class="hideonphone"><a href="/program">Program</a></li>
        <li class="hideonphone"><a href="#contact-us">Contact Us</a></li>
        <% if (user) { %>
          <li class="hideonphone"><a href="#" onclick="event.preventDefault(); logout();" class="username-link">üë§ <%= user.name %></a></li>
        <% } else { %>
          <li class="hideonphone"><a href="/login">Login</a></li>
        <% } %>
        <li class="menu-btn" onclick="showsidebar()">
          <a href="#"><svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" fill="#e3e3e3"><path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/></svg></a>
        </li>
      </ul>
    </div>
  </nav>

  <div id="home" class="box-container">
    <div class="image-wrapper">
      <video autoplay muted loop>
        <source src="458425_Rubbish_Litter_1920x1080.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
      <div class="text"><h1>RIVER CleanUp</h1></div>
    </div>
  </div>

  <section class="river-cleanup" id="about">
    <div class="container">
      <h1>River Cleanup Initiative</h1>
            <p>At <strong>Your Company Name</strong>, we believe in making a positive impact on the environment and the communities around us. Our River Cleanup initiative is dedicated to preserving and restoring the natural beauty of our waterways, ensuring cleaner rivers for future generations.</p>
            <p>Our goal is to reduce pollution, protect aquatic life, and raise awareness about the importance of maintaining healthy rivers. We organize regular cleanup drives, encourage local communities to participate, and work closely with environmental organizations to drive long-term sustainability efforts.</p>
            <p>Join us in this essential cause! Together, we can make a difference, one river at a time.</p>

            <h2>How You Can Help:</h2>
      <ul>
        <li><strong>Volunteer:</strong> Participate in our river cleanup events.</li>
        <li><strong>Donate:</strong> Support our efforts to clean and restore rivers.</li>
        <li><strong>Spread the Word:</strong> Share info about river conservation.</li>
      </ul>
      <p>For more info about upcoming events, visit our <a href="program.html">Events</a> page or contact us directly.</p>
    </div>
  </section>

  <section class="events-section" id="events">
    <div class="container">
      <h1>Upcoming Cleanup Programs</h1>
      <p>Join us in our mission to clean up rivers and waterways. Here are the upcoming cleanup events where you can make a difference:</p>
      
      <% if (events && events.length > 0) { %>
        <div class="events-grid">
          <% events.forEach(event => { %>
            <div class="event-card" onclick="handleEventClick()">
              <div class="event-date">üìÖ <%= event.date %></div>
              <div class="event-address">üìç <%= event.address %></div>
              <div class="event-workers">üë• <%= event.workers %> volunteers needed</div>
              <div class="event-creator">üë§ Created by: <%= event.createdBy?.name || 'Unknown' %></div>
              <p>Join us for a community cleanup event at this location. Together, we can make our waterways cleaner and healthier for everyone!</p>
            </div>
          <% }) %>
        </div>
      <% } else { %>
        <div class="no-events">
          <p>No upcoming events scheduled at the moment. Please check back later or contact us to organize a cleanup event in your area!</p>
        </div>
      <% } %>
    </div>
  </section>

  <section class="contact-us" id="contact-us">
    <div class="container">
      <h1>Contact Us</h1>
      <p>If you have any questions, suggestions, or would like to get involved, feel free to reach out to us using the contact form below or through our email and social media!</p>
      <div class="contact-info">
        <h2>Contact Information</h2>
        <p><strong>Email:</strong> HelloWord@gmail.com</p>
        <p><strong>Phone:</strong> +91 1234567890</p>
        <p><strong>Address:</strong> Fira, Santorini, Greece</p>
        <h2>Follow Us</h2>
        <p>
          <a href="#" target="_blank">Facebook</a> |
          <a href="#" target="_blank">Twitter</a> |
          <a href="#" target="_blank">Instagram</a>
        </p>
      </div>

      <form class="contact-form" id="contact-form">
        <h2>Get in Touch</h2>
        <input type="text" id="name" placeholder="Name" required />
        <input type="email" id="email" placeholder="Email" required />
        <input type="text" id="phone" placeholder="Phone" required />
        <input type="text" id="subject" placeholder="Subject" required />
        <textarea id="message" rows="5" placeholder="Message" required></textarea>
        <button type="submit" id="submit-btn">Send Message</button>
      </form>
    </div>
  </section>

  <footer>
    <p>¬©2025 River CleanUp</p>
  </footer>

  <script>
    // Pass user data to JavaScript safely
    window.userData = <%= user ? JSON.stringify(user) : 'null' %>;
    
    function showsidebar() {
      document.querySelector('.sidebar').style.display = 'flex';
    }

    function hidesidebar() {
      document.querySelector('.sidebar').style.display = 'none';
    }

    function redirectToLogin() {
      window.location.href = '/login';
    }

    function handleEventClick() {
      if (window.userData) {
        alert(`Welcome ${window.userData.name}! You can now participate in this event. Redirecting to programs page...`);
        window.location.href = '/program';
      } else {
        window.location.href = '/login';
      }
    }

    document.querySelector('#contact-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      const name = document.querySelector('#name').value.trim();
      const email = document.querySelector('#email').value.trim();
      const phone = document.querySelector('#phone').value.trim();
      const subject = document.querySelector('#subject').value.trim();
      const message = document.querySelector('#message').value.trim();

      if (!name || !email || !phone || !subject || !message) {
        alert('Please fill out all fields.');
        return;
      }

      try {
        const response = await fetch('/api/contact', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ name, email, phone, subject, message }),
        });

        if (response.ok) {
          alert('Message sent successfully!');
          document.getElementById('contact-form').reset();
        } else {
          const err = await response.json();
          alert('Failed to send: ' + (err.message || 'Unknown error'));
        }
      } catch (err) {
        alert('Error: ' + err.message);
      }
    });

    async function logout() {
      try {
        await fetch('/logout', {
          credentials: 'include'
        });
        window.location.href = '/';
      } catch (err) {
        alert("Logout failed.");
      }
    }
  </script>
</body>
</html>
